<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Postulación</title>
    <style>
        body { font-family: Arial; background: #111; color: #fff; padding: 20px; }
        input, textarea, select { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none; }
        button { padding: 10px 20px; background: #4CAF50; border: none; color: white; cursor: pointer; border-radius: 5px; }
        button:hover { background: #45a049; }
        .container { max-width: 600px; margin: auto; }
    </style>
</head>
<body>

<div class="container">
    <h2>Formulario de Postulación</h2>

    <form id="form">

        <input type="text" id="nombre" placeholder="Nombre" required>
        <input type="number" id="edad" placeholder="Edad" required>
        <input type="text" id="pais" placeholder="País" required>
        <input type="text" id="discord" placeholder="Discord" required>

        <textarea id="motivo" placeholder="¿Por qué quieres entrar?" required></textarea>
        <textarea id="experiencia" placeholder="Experiencia previa" required></textarea>
        <textarea id="detalle" placeholder="Detalles adicionales" required></textarea>

        <select id="puesto" required>
            <option value="">Selecciona un puesto</option>
            <option value="Moderador">Moderador</option>
            <option value="Administrador">Administrador</option>
            <option value="Soporte">Soporte</option>
        </select>

        <textarea id="horas" placeholder="¿Cuántas horas activas tienes?" required></textarea>
        <textarea id="conflictos" placeholder="¿Cómo manejas conflictos?" required></textarea>
        <textarea id="toxicos" placeholder="¿Cómo manejas usuarios tóxicos?" required></textarea>
        <textarea id="aporte" placeholder="¿Qué aportarías al equipo?" required></textarea>
        <textarea id="bots" placeholder="¿Sabes usar bots?" required></textarea>
        <textarea id="fines" placeholder="¿Cuáles son tus fines en el staff?" required></textarea>
        <textarea id="personalidad" placeholder="Describe tu personalidad" required></textarea>
        <textarea id="motivacion" placeholder="¿Qué te motiva?" required></textarea>
        <textarea id="injusticia" placeholder="¿Qué harías ante una injusticia?" required></textarea>
        <textarea id="amigo" placeholder="¿Aceptarías a un amigo aunque no cumpla requisitos?" required></textarea>
        <textarea id="resolver" placeholder="¿Cómo resolverías un problema grave?" required></textarea>
        <textarea id="extra" placeholder="Información extra"></textarea>

        <button type="submit">Enviar Postulación</button>
    </form>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBCZH2bD5mZCiVDN1n_vFf8OqBRty_TLRE",
    authDomain: "escuadronx-free.firebaseapp.com",
    projectId: "escuadronx-free",
    storageBucket: "escuadronx-free.firebasestorage.app",
    messagingSenderId: "189437864760",
    appId: "1:189437864760:web:da77fd49159aa34ce02fcd"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>

<script>
document.getElementById("form").addEventListener("submit", async function(e) {
    e.preventDefault();

    const data = {
        nombre: nombre.value,
        edad: edad.value,
        pais: pais.value,
        discord: discord.value,
        motivo: motivo.value,
        puesto: puesto.value,
        experiencia: experiencia.value,
        detalle: detalle.value,
        horas: horas.value,
        conflictos: conflictos.value,
        toxicos: toxicos.value,
        aporte: aporte.value,
        bots: bots.value,
        fines: fines.value,
        personalidad: personalidad.value,
        motivacion: motivacion.value,
        injusticia: injusticia.value,
        amigo: amigo.value,
        resolver: resolver.value,
        extra: extra.value,
        estado: "En revisión",
        fecha: new Date().toLocaleString()
    };

    try {
        await db.collection("postulaciones").add(data);
        alert("¡Postulación enviada correctamente!");
        document.getElementById("form").reset();
    } catch (error) {
        alert("Error al enviar la postulación: " + error.message);
    }
});
</script>

</body>
</html>
